<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <!-- Display any flash messages if they exist -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <ul class="flashes" id="flash-messages">
            {% for category, message in messages %}
            <!-- Each message is styled based on its category (e.g., success, error) -->
            <li class="{{ category }}">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}

        <!-- Main content of the dashboard -->
        <h2>Welcome, {{ username }}!</h2>
        <p>You have successfully logged in to the dashboard.</p>

        <!-- Logout button -->
        <a href="/logout" class="logout-button">Log Out</a>
    </div>

    <!-- Script to automatically hide flash messages after 3 seconds -->
    <script>
        setTimeout(() => {
            const flashMessages = document.getElementById('flash-messages');
            if (flashMessages) {
                // Apply fade-out transition
                flashMessages.style.transition = "opacity 0.5s ease";
                flashMessages.style.opacity = "0";

                // Remove the element from the DOM after the fade-out
                setTimeout(() => flashMessages.remove(), 500);
            }
        }, 3000);
    </script>
</body>
</html>
